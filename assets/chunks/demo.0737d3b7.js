(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const u of i)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function e(i){const u={};return i.integrity&&(u.integrity=i.integrity),i.referrerpolicy&&(u.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?u.credentials="include":i.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(i){if(i.ep)return;i.ep=!0;const u=e(i);fetch(i.href,u)}})();function rt(s){return s.replace(/([A-Z])/g,e=>`-${e[0].toLowerCase()}`)}function M(s){const e=s.tagName==="Fragment"?document.createDocumentFragment():document.createElement(s.tagName),o=s.attributes;for(const i in o)if(i.startsWith("on")){const u=i.slice(2).toLowerCase();e.addEventListener(u,o[i])}else s.tagName==="Fragment"||e.setAttribute(rt(i),o[i]);if(s.children)for(const i of s.children){if(typeof i=="string"){e.appendChild(document.createTextNode(i));continue}e.appendChild(M(i))}return e}function Pt(s,e){const o=e.el,i=e.attributes;for(const u in i)if(u.startsWith("on")){if(typeof(s==null?void 0:s.attributes[u])=="function"){const f=u.slice(2).toLowerCase();o.removeEventListener(f,s.attributes[u]),o.addEventListener(f,i[u])}}else o.setAttribute(rt(u),i[u]);for(const u of e.children){if(typeof u=="string"){o.appendChild(document.createTextNode(u));continue}o.appendChild(M(u))}if(e.children)for(const u of Object.values(e.children))F(void 0,u);return o}function F(s,e){if(e.isDeleted)return e.el.parentNode.removeChild(e.el),e;if(e.isNew)return console.log("create",e),e.el=M(e),e;if(e.isUpdated){const o=Pt(s,e);return o&&(e.el=o),e}if(e.children)for(const o of Object.values(e.children))F(void 0,o);return e}function O(s,e=["isNew"]){for(const o of e)s[o]&&(s[o]=!1);if(s.children)for(const o of Object.values(s.children))O(o,e);return s}function Rt(s,e){for(const o in e)if(o==="style")for(const i in e[o])s.style[i]=e[o][i];else s.setAttribute(o,e[o])}function nt(s,e,o,i){var u;if(e.isUpdated?(Rt(e.el,e.attributes),typeof e.children=="string"&&(e.el.textContent=e.children),(u=s.parentNode)===null||u===void 0||u.replaceChild(M(e),s)):e.isNew?s.appendChild(M(e)):e.isDeleted&&s.removeChild(s.childNodes[i]),e.children instanceof Array)for(let f=0;f<e.children.length;f++){const v=s.childNodes[f];nt(v,e.children[f],o.children[f],f)}}function $t(s,e,o){s||ot(e),e=it(s,e);const i=F(s,e);if(o){const u=[];if(o.childNodes[0].nodeName==="STYLE"&&o.childNodes.forEach(f=>{f.nodeName!=="STYLE"&&u.push(f)}),i.children instanceof Array)for(let f=0;f<i.children.length;f++)nt(u[f],i.children[f],s.children[f],f)}return O(i,["isUpdated","isNew","isDeleted"])}function ot(s){if(s.isNew)for(const e of s.children)ot(e)}function it(s,e,o){if(!s)return e;if(typeof s=="string"&&typeof e=="string"&&s!==e&&(e=e,o.isUpdated=!0),s==null?void 0:s.isDeleted)return s;if((s==null?void 0:s.tagName)!==e.tagName&&(s.isDeleted=!0,e.isNew=!0),JSON.stringify(s.attributes)!==JSON.stringify(e.attributes)&&(e.isUpdated=!0),s.children&&e.children){const i=Object.values(s.children),u=Object.values(e.children);if(JSON.stringify(i)!==JSON.stringify(u)){const f=Math.max(i.length,u.length);for(let v=0;v<f;v++)e.children[v]=it(i[v],u[v],e)}}return e}class K{constructor(e,o,i){this.tagName=e,this.attributes=o,this.children=i,this.isNew=!0,this.isUpdated=!1,this.isDeleted=!1,this.el=document.createElement(e)}static isVNode(e){return e instanceof K}}function U(s,e,...o){return new K(s,e,o)}const Ut="Fragment";var tt;(function(s){(function(e){var o=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),i=u(s);typeof o.Reflect>"u"?o.Reflect=s:i=u(o.Reflect,i),e(i);function u(f,v){return function(k,N){typeof f[k]!="function"&&Object.defineProperty(f,k,{configurable:!0,writable:!0,value:N}),v&&v(k,N)}}})(function(e){var o=Object.prototype.hasOwnProperty,i=typeof Symbol=="function",u=i&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",f=i&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",v=typeof Object.create=="function",k={__proto__:[]}instanceof Array,N=!v&&!k,T={create:v?function(){return $(Object.create(null))}:k?function(){return $({__proto__:null})}:function(){return $({})},has:N?function(t,r){return o.call(t,r)}:function(t,r){return r in t},get:N?function(t,r){return o.call(t,r)?t[r]:void 0}:function(t,r){return t[r]}},W=Object.getPrototypeOf(Function),A=typeof process=="object"&&process.env&&{}.REFLECT_METADATA_USE_MAP_POLYFILL==="true",L=!A&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:jt(),ut=!A&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:At(),ct=!A&&typeof WeakMap=="function"?WeakMap:Lt(),C=new ct;function at(t,r,n,c){if(g(n)){if(!B(t))throw new TypeError;if(!G(r))throw new TypeError;return mt(t,r)}else{if(!B(t))throw new TypeError;if(!w(r))throw new TypeError;if(!w(c)&&!g(c)&&!E(c))throw new TypeError;return E(c)&&(c=void 0),n=_(n),_t(t,r,n,c)}}e("decorate",at);function ft(t,r){function n(c,a){if(!w(c))throw new TypeError;if(!g(a)&&!Mt(a))throw new TypeError;q(t,r,c,a)}return n}e("metadata",ft);function ht(t,r,n,c){if(!w(n))throw new TypeError;return g(c)||(c=_(c)),q(t,r,n,c)}e("defineMetadata",ht);function lt(t,r,n){if(!w(r))throw new TypeError;return g(n)||(n=_(n)),z(t,r,n)}e("hasMetadata",lt);function pt(t,r,n){if(!w(r))throw new TypeError;return g(n)||(n=_(n)),P(t,r,n)}e("hasOwnMetadata",pt);function dt(t,r,n){if(!w(r))throw new TypeError;return g(n)||(n=_(n)),J(t,r,n)}e("getMetadata",dt);function yt(t,r,n){if(!w(r))throw new TypeError;return g(n)||(n=_(n)),V(t,r,n)}e("getOwnMetadata",yt);function vt(t,r){if(!w(t))throw new TypeError;return g(r)||(r=_(r)),Y(t,r)}e("getMetadataKeys",vt);function gt(t,r){if(!w(t))throw new TypeError;return g(r)||(r=_(r)),H(t,r)}e("getOwnMetadataKeys",gt);function wt(t,r,n){if(!w(r))throw new TypeError;g(n)||(n=_(n));var c=x(r,n,!1);if(g(c)||!c.delete(t))return!1;if(c.size>0)return!0;var a=C.get(r);return a.delete(n),a.size>0||C.delete(r),!0}e("deleteMetadata",wt);function mt(t,r){for(var n=t.length-1;n>=0;--n){var c=t[n],a=c(r);if(!g(a)&&!E(a)){if(!G(a))throw new TypeError;r=a}}return r}function _t(t,r,n,c){for(var a=t.length-1;a>=0;--a){var m=t[a],l=m(r,n,c);if(!g(l)&&!E(l)){if(!w(l))throw new TypeError;c=l}}return c}function x(t,r,n){var c=C.get(t);if(g(c)){if(!n)return;c=new L,C.set(t,c)}var a=c.get(r);if(g(a)){if(!n)return;a=new L,c.set(r,a)}return a}function z(t,r,n){var c=P(t,r,n);if(c)return!0;var a=R(r);return E(a)?!1:z(t,a,n)}function P(t,r,n){var c=x(r,n,!1);return g(c)?!1:St(c.has(t))}function J(t,r,n){var c=P(t,r,n);if(c)return V(t,r,n);var a=R(r);if(!E(a))return J(t,a,n)}function V(t,r,n){var c=x(r,n,!1);if(!g(c))return c.get(t)}function q(t,r,n,c){var a=x(n,c,!0);a.set(t,r)}function Y(t,r){var n=H(t,r),c=R(t);if(c===null)return n;var a=Y(c,r);if(a.length<=0)return n;if(n.length<=0)return a;for(var m=new ut,l=[],p=0,h=n;p<h.length;p++){var d=h[p],y=m.has(d);y||(m.add(d),l.push(d))}for(var b=0,X=a;b<X.length;b++){var d=X[b],y=m.has(d);y||(m.add(d),l.push(d))}return l}function H(t,r){var n=[],c=x(t,r,!1);if(g(c))return n;for(var a=c.keys(),m=Nt(a),l=0;;){var p=xt(m);if(!p)return n.length=l,n;var h=Tt(p);try{n[l]=h}catch(d){try{Ct(m)}finally{throw d}}l++}}function Z(t){if(t===null)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return t===null?1:6;default:return 6}}function g(t){return t===void 0}function E(t){return t===null}function bt(t){return typeof t=="symbol"}function w(t){return typeof t=="object"?t!==null:typeof t=="function"}function kt(t,r){switch(Z(t)){case 0:return t;case 1:return t;case 2:return t;case 3:return t;case 4:return t;case 5:return t}var n=r===3?"string":r===5?"number":"default",c=Q(t,u);if(c!==void 0){var a=c.call(t,n);if(w(a))throw new TypeError;return a}return Et(t,n==="default"?"number":n)}function Et(t,r){if(r==="string"){var n=t.toString;if(S(n)){var c=n.call(t);if(!w(c))return c}var a=t.valueOf;if(S(a)){var c=a.call(t);if(!w(c))return c}}else{var a=t.valueOf;if(S(a)){var c=a.call(t);if(!w(c))return c}var m=t.toString;if(S(m)){var c=m.call(t);if(!w(c))return c}}throw new TypeError}function St(t){return!!t}function Ot(t){return""+t}function _(t){var r=kt(t,3);return bt(r)?r:Ot(r)}function B(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:Object.prototype.toString.call(t)==="[object Array]"}function S(t){return typeof t=="function"}function G(t){return typeof t=="function"}function Mt(t){switch(Z(t)){case 3:return!0;case 4:return!0;default:return!1}}function Q(t,r){var n=t[r];if(n!=null){if(!S(n))throw new TypeError;return n}}function Nt(t){var r=Q(t,f);if(!S(r))throw new TypeError;var n=r.call(t);if(!w(n))throw new TypeError;return n}function Tt(t){return t.value}function xt(t){var r=t.next();return r.done?!1:r}function Ct(t){var r=t.return;r&&r.call(t)}function R(t){var r=Object.getPrototypeOf(t);if(typeof t!="function"||t===W||r!==W)return r;var n=t.prototype,c=n&&Object.getPrototypeOf(n);if(c==null||c===Object.prototype)return r;var a=c.constructor;return typeof a!="function"||a===t?r:a}function jt(){var t={},r=[],n=function(){function l(p,h,d){this._index=0,this._keys=p,this._values=h,this._selector=d}return l.prototype["@@iterator"]=function(){return this},l.prototype[f]=function(){return this},l.prototype.next=function(){var p=this._index;if(p>=0&&p<this._keys.length){var h=this._selector(this._keys[p],this._values[p]);return p+1>=this._keys.length?(this._index=-1,this._keys=r,this._values=r):this._index++,{value:h,done:!1}}return{value:void 0,done:!0}},l.prototype.throw=function(p){throw this._index>=0&&(this._index=-1,this._keys=r,this._values=r),p},l.prototype.return=function(p){return this._index>=0&&(this._index=-1,this._keys=r,this._values=r),{value:p,done:!0}},l}();return function(){function l(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(l.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),l.prototype.has=function(p){return this._find(p,!1)>=0},l.prototype.get=function(p){var h=this._find(p,!1);return h>=0?this._values[h]:void 0},l.prototype.set=function(p,h){var d=this._find(p,!0);return this._values[d]=h,this},l.prototype.delete=function(p){var h=this._find(p,!1);if(h>=0){for(var d=this._keys.length,y=h+1;y<d;y++)this._keys[y-1]=this._keys[y],this._values[y-1]=this._values[y];return this._keys.length--,this._values.length--,p===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},l.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},l.prototype.keys=function(){return new n(this._keys,this._values,c)},l.prototype.values=function(){return new n(this._keys,this._values,a)},l.prototype.entries=function(){return new n(this._keys,this._values,m)},l.prototype["@@iterator"]=function(){return this.entries()},l.prototype[f]=function(){return this.entries()},l.prototype._find=function(p,h){return this._cacheKey!==p&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=p)),this._cacheIndex<0&&h&&(this._cacheIndex=this._keys.length,this._keys.push(p),this._values.push(void 0)),this._cacheIndex},l}();function c(l,p){return l}function a(l,p){return p}function m(l,p){return[l,p]}}function At(){return function(){function t(){this._map=new L}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(r){return this._map.has(r)},t.prototype.add=function(r){return this._map.set(r,r),this},t.prototype.delete=function(r){return this._map.delete(r)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[f]=function(){return this.keys()},t}()}function Lt(){var t=16,r=T.create(),n=c();return function(){function h(){this._key=c()}return h.prototype.has=function(d){var y=a(d,!1);return y!==void 0?T.has(y,this._key):!1},h.prototype.get=function(d){var y=a(d,!1);return y!==void 0?T.get(y,this._key):void 0},h.prototype.set=function(d,y){var b=a(d,!0);return b[this._key]=y,this},h.prototype.delete=function(d){var y=a(d,!1);return y!==void 0?delete y[this._key]:!1},h.prototype.clear=function(){this._key=c()},h}();function c(){var h;do h="@@WeakMap@@"+p();while(T.has(r,h));return r[h]=!0,h}function a(h,d){if(!o.call(h,n)){if(!d)return;Object.defineProperty(h,n,{value:T.create()})}return h[n]}function m(h,d){for(var y=0;y<d;++y)h[y]=Math.random()*255|0;return h}function l(h){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(h)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(h)):m(new Uint8Array(h),h):m(new Array(h),h)}function p(){var h=l(t);h[6]=h[6]&79|64,h[8]=h[8]&191|128;for(var d="",y=0;y<t;++y){var b=h[y];(y===4||y===6||y===8)&&(d+="-"),b<16&&(d+="0"),d+=b.toString(16).toLowerCase()}return d}}function $(t){return t.__=void 0,delete t.__,t}})})(tt||(tt={}));function Dt(s){return console.log(s),new Proxy(s,{get(e,o){return Reflect.get(e,o)},set(e,o,i){return Reflect.set(e,o,i),!0}})}function It(s,e,o){const i=Dt(o);Object.defineProperty(s,e,{get(){return i.value},set(u){var f;i.value=u,this.shouldUpdate=!0,(f=this.watchersMap.get(e))===null||f===void 0||f.forEach(v=>{v.callback.call(this,u,o)}),this.updateDiff()}})}const j="jwc:component:props";function Ft(s,e,o){const{default:i,required:u}=o,f=Reflect.getMetadata(j,s)||[];f.push({attr:e,default:i,required:u}),Reflect.defineMetadata(j,f,s)}function Kt(s,e,o){Ft(s,e,o)}function et(s){const e=document.createElement("style");return e.appendChild(document.createTextNode(s)),e}const D=new WeakMap;class Wt extends HTMLElement{getMetaList(e){return Reflect.getMetadata(e,this)||new Map}initWatcher(){(this.getMetaList(j)||[]).forEach(e=>{const{callbackName:o}=e,i=this.watchersMap.get(o);i?this.watchersMap.set(o,[...i,e]):this.watchersMap.set(o,[e])})}constructor(){super(),this.rootNode=null,this.$data=null,this.$options=null,this.$deps=null,this.$lastRender=null,this.customStyles=null,this.shouldUpdate=!1,this.props={},this.propsList=[],this.previousProps={},this.previousVNode=null,this.watchersMap=new Map,this.host=this,this.$options=this.constructor.$options,this.init()}initCSS(e){if(D.has(this.constructor))e.adoptedStyleSheets=D.get(this.constructor);else{const o=this.$options.css;if(o){const i=new CSSStyleSheet;i.replaceSync(o),e.adoptedStyleSheets=[i],D.set(this.constructor,[i])}}return e}initShadowRoot(){let e=this.shadowRoot||this.attachShadow({mode:"open"});return e=this.initCSS(this.shadowRoot),this.$options.css&&e.appendChild(et(this.$options.css)),this.inlineStyles&&(this.customStyles=et(this.inlineStyles),e.appendChild(this.customStyles)),e}attrsToProps(){console.log(this.props);const e=this.shadowRoot&&this.shadowRoot.host?this.shadowRoot.host:this,o={};for(let i=0;i<e.attributes.length;i++){const u=e.attributes[i];o[u.name]=u.value}this.propsList.forEach(i=>{const{attr:u,default:f}=i;o[u]?(this.previousProps[u]=o[u],this[u]=o[u]):(this.previousProps[u]=f,this[u]=f)})}init(){this.props=this.getMetaList(j)||[],this.propsList=Object.values(this.props);const e=this;this.propsList.forEach(o=>{const{attr:i,default:u}=o;this.previousProps[i]=u,this[i]=u,It(e,i,o)}),this.initWatcher()}get inlineStyles(){return super.getAttribute("style")}updateDiff(){const e=this.$lastRender,o=this.render(this.$data);e&&(this.$lastRender=null,this.$lastRender=$t(O(e),O(o),this.shadowRoot))}customEvent(e,o){const i=new CustomEvent(e,{detail:o,bubbles:!0,composed:!0});this.dispatchEvent(i)}connectedCallback(){const e=this.initShadowRoot();this.attrsToProps();const o=this.props,i=this;o.forEach(f=>{const v=e.host.getAttribute(f.attr);v&&(i[f.attr]=v)});const u=this.render(this.$data);this.rootNode=M(O(u)),this.$options.isMounted&&this.rootNode&&e.appendChild(this.rootNode),this.$lastRender=O(u)}disconnectedCallback(){}attributeChangedCallback(e,o,i){o!==i&&(this.props[e]=i),this.updateDiff()}adoptedCallback(){}render(e){}}function zt(s){return(e,o)=>{Kt(e,String(o),s)}}function Jt(s){return function(e){s.isMounted===void 0&&(s.isMounted=!0),customElements.get(s.name)&&console.warn(`The component ${s.name} already exists.`),e.$options=s,customElements.define(s.name,e,s.options||{})}}const Vt=`:host{max-width:1280px;margin:0 auto;padding:2rem;text-align:center}.card{padding:2em}button{border-radius:8px;border:1px solid transparent;padding:.6em 1.2em;font-size:1em;font-weight:500;font-family:inherit;background-color:#1a1a1a;cursor:pointer;transition:border-color .25s}button:hover{border-color:#646cff}button:focus,button:focus-visible{outline:4px auto -webkit-focus-ring-color}@media (prefers-color-scheme: light){button{background-color:#f9f9f9}}
`;var qt=Object.defineProperty,Yt=Object.getOwnPropertyDescriptor,st=(s,e,o,i)=>{for(var u=i>1?void 0:i?Yt(e,o):e,f=s.length-1,v;f>=0;f--)(v=s[f])&&(u=(i?v(e,o,u):v(u))||u);return i&&u&&qt(e,o,u),u};let I=class extends Wt{constructor(){super(),this.onClick=()=>{this.count++}}render(){return U(Ut,null,U("div",{class:"card"},U("button",{onClick:this.onClick},"count is ",String(this.count))))}};st([zt({default:0,attr:"count"})],I.prototype,"count",2);I=st([Jt({name:"jwc-element",css:Vt})],I);
